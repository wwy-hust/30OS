<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>MyOS: src/multiTask.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MyOS
   &#160;<span id="projectnumber">v0.1.0</span>
   </div>
   <div id="projectbrief">simple GUI OS on X86 made with C &amp; Assembler</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">multiTask.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="multi_task_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#ifndef _MULTI_TASK_H_</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _MULTI_TASK_H_</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string_8h.html">string.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="typedef_8h.html">typedef.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tim_8h.html">tim.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="global_tbl_8h.html">globalTbl.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mem_8h.html">mem.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="data_struct_8h.html">dataStruct.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fat_8h.html">fat.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_t_s_s32.html">TSS32</a> {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    int32 backlink, esp0, ss0, esp1, ss1, esp2, ss2, cr3;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    int32 eip, eflags, eax, ecx, edx, ebx, esp, ebp, esi, edi;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    int32 es, cs, ss, ds, fs, gs;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordtype">int</span> ldtr, iomap;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}<a class="code" href="group__hal.html#ga4695a829b20154c459dd450bec77a986">TSS32</a>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__hal.html#ga8706facbfcd1bb998bb3c1f8815a3436">tss_init</a>(<a class="code" href="struct_t_s_s32.html">TSS32</a>* tss, int32 taskId, int32 eip, int32 esp, int32 eflags);    <span class="comment">//return task num</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#define SWITCH_TIME     5</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define TASK_LIST_MAX   128</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> TASK_STATUS{</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    running = 0, sleep = 1, stopped = 2, blocked = 3</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}TASK_STATUS;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="struct_t_a_s_k.html">   46</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_t_a_s_k.html">TASK</a>{</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="struct_t_a_s_k.html#a8549d848bd43b620507b53a053ed3dd1">   47</a></span>&#160;    int32               <a class="code" href="struct_t_a_s_k.html#a8549d848bd43b620507b53a053ed3dd1">taskId</a>;     </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    int8*               taskName;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="struct_t_a_s_k.html#a3183049eecc90dc3b25e8f2dd1b67585">   49</a></span>&#160;    int8                <a class="code" href="struct_t_a_s_k.html#a3183049eecc90dc3b25e8f2dd1b67585">langMode</a>;   </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    uint32          sleepTimeCnt_10ms;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordtype">boolean</span>         isUsing;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="struct_t_a_s_k.html#a09f8b5430c2234e2ad5c57210942fd8a">   52</a></span>&#160;    uint8               <a class="code" href="struct_t_a_s_k.html#a09f8b5430c2234e2ad5c57210942fd8a">priority</a>;   </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="struct_t_a_s_k.html#ac0e35f4ce7296b738061037460ca8555">   53</a></span>&#160;    TASK_STATUS <a class="code" href="struct_t_a_s_k.html#ac0e35f4ce7296b738061037460ca8555">status</a>;             </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="struct_t_s_s32.html">TSS32</a>               tss;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="struct_t_a_s_k.html#aad7dc57517764d71f1c6fc9972b2c113">   55</a></span>&#160;    <a class="code" href="struct_s_e_g_m_e_n_t___d_e_s_c_r_i_p_t_o_r.html">SEGMENT_DESCRIPTOR</a>  <a class="code" href="struct_t_a_s_k.html#aad7dc57517764d71f1c6fc9972b2c113">ldt</a>[2];     </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}<a class="code" href="group__tasks.html#gacab65489a95cd361529b125c4bcbb3d3">TASK</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="struct_t_a_s_k___c_t_l.html">   59</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_t_a_s_k___c_t_l.html">TASK_CTL</a>{</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="struct_t_a_s_k___c_t_l.html#a83f4422e8e6b6985fcd906280152021c">   60</a></span>&#160;    int32   <a class="code" href="struct_t_a_s_k___c_t_l.html#a83f4422e8e6b6985fcd906280152021c">taskIdBase</a>;         </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="struct_t_a_s_k___c_t_l.html#afe827cc7495142a30211c673e984ffe0">   61</a></span>&#160;    int32   <a class="code" href="struct_t_a_s_k___c_t_l.html#afe827cc7495142a30211c673e984ffe0">taskNum</a>;            </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="struct_t_a_s_k___c_t_l.html#abcd453fcf00ecb2a59a537c7a755c90b">   63</a></span>&#160;    int32   <a class="code" href="struct_t_a_s_k___c_t_l.html#abcd453fcf00ecb2a59a537c7a755c90b">stoppedTasksEnd</a>;    </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="struct_t_a_s_k___c_t_l.html#a2db7a15b051b387129d1a3fe9b9f379a">   64</a></span>&#160;    int32   <a class="code" href="struct_t_a_s_k___c_t_l.html#a2db7a15b051b387129d1a3fe9b9f379a">sleepTasksEnd</a>;      </div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="struct_t_a_s_k___c_t_l.html#a51ed809edddd6e44c3c3480fe37e764d">   65</a></span>&#160;    int32   <a class="code" href="struct_t_a_s_k___c_t_l.html#a51ed809edddd6e44c3c3480fe37e764d">runningTasksEnd</a>;    </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    </div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="struct_t_a_s_k___c_t_l.html#ae9de4564884d3a5f4766b85af6645121">   67</a></span>&#160;    int32   <a class="code" href="struct_t_a_s_k___c_t_l.html#ae9de4564884d3a5f4766b85af6645121">nowRunningTaskPos</a>;  </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="struct_t_a_s_k___c_t_l.html#a80753f61d7fe47df1e5bf12ca9412b68">   69</a></span>&#160;    <a class="code" href="struct_t_a_s_k.html">TASK</a>*   <a class="code" href="struct_t_a_s_k___c_t_l.html#a80753f61d7fe47df1e5bf12ca9412b68">stoppedTasks</a>[TASK_LIST_MAX];    </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="struct_t_a_s_k___c_t_l.html#ae4e78a4a0519a4fa491ff0304c93f0bd">   70</a></span>&#160;    <a class="code" href="struct_t_a_s_k.html">TASK</a>*   <a class="code" href="struct_t_a_s_k___c_t_l.html#ae4e78a4a0519a4fa491ff0304c93f0bd">sleepTasks</a>[TASK_LIST_MAX];      </div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="struct_t_a_s_k___c_t_l.html#a87459b911057e2c10882b80e1be06037">   71</a></span>&#160;    <a class="code" href="struct_t_a_s_k.html">TASK</a>*   <a class="code" href="struct_t_a_s_k___c_t_l.html#a87459b911057e2c10882b80e1be06037">runningTasks</a>[TASK_LIST_MAX];    </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="struct_t_a_s_k___c_t_l.html#a0580dbf90e68faf8d8aa913ef5cf8c22">   72</a></span>&#160;    <a class="code" href="struct_t_a_s_k.html">TASK</a>    <a class="code" href="struct_t_a_s_k___c_t_l.html#a0580dbf90e68faf8d8aa913ef5cf8c22">tasks</a>[TASK_LIST_MAX];           </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}<a class="code" href="group__tasks.html#ga18e0efedf0dfe84953f27b5375330d41">TASK_CTL</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="keywordtype">boolean</span> <a class="code" href="group__tasks.html#ga1a6aed653e922f52d415b9d1341dec69">task_alloc</a>(IN int8* taskName, IN int32 taskRoutine, IN int32 stackLocation, IN int32 eflags, IN uint8 priority, OUT <a class="code" href="struct_t_a_s_k.html">TASK</a>** task);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keywordtype">boolean</span> <a class="code" href="group__tasks.html#ga314a60ecc5d121e96369a232929f05b7">task_free</a>(IN <a class="code" href="struct_t_a_s_k.html">TASK</a>* task);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keywordtype">boolean</span> <a class="code" href="group__tasks.html#gab41d1085f991554e722aaf9d23308922">task_run</a>(IN <a class="code" href="struct_t_a_s_k.html">TASK</a>* task);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keywordtype">boolean</span> <a class="code" href="group__tasks.html#gaaa5d5dcdbff789258857cfcd0d2d196d">task_sleep</a>(IN <a class="code" href="struct_t_a_s_k.html">TASK</a>* task, IN int32 sleepTimeCnt_10ms);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keywordtype">boolean</span> <a class="code" href="group__tasks.html#gae02e7fe09200eeca16d0ad3010d5d6f0">task_stop</a>(IN <a class="code" href="struct_t_a_s_k.html">TASK</a>* task);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keywordtype">boolean</span> <a class="code" href="group__tasks.html#gaa6ce59dea42174cb50c4c08f6408cba0">task_stop_free</a>(IN <a class="code" href="struct_t_a_s_k.html">TASK</a>* task);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__tasks.html#ga1a8c1e9548dafe2361c5a69df4753f88">task_sort_running_by_priority</a>();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__tasks.html#ga85a0eed0366141e3f5d500111c60950b">task_sort_sleep_by_sleepTime</a>();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__tasks.html#ga9b70a7656aaa0836abd59b9298e428ac">multiTask_init</a>();</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__tasks.html#gaa0df4c668a247af298d374749e366071">multiTask_switch</a>();</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<a class="code" href="struct_t_a_s_k.html">TASK</a>* <a class="code" href="group__tasks.html#gaffc9e27207bf9aa78c9947df1a4272b5">multiTask_NowRunning</a>();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="group__tasks_html_ga1a8c1e9548dafe2361c5a69df4753f88"><div class="ttname"><a href="group__tasks.html#ga1a8c1e9548dafe2361c5a69df4753f88">task_sort_running_by_priority</a></div><div class="ttdeci">void task_sort_running_by_priority()</div><div class="ttdoc">sort tasks in taskCtl.runningTask[]. </div><div class="ttdef"><b>Definition:</b> multiTask.c:253</div></div>
<div class="ttc" id="group__tasks_html_ga85a0eed0366141e3f5d500111c60950b"><div class="ttname"><a href="group__tasks.html#ga85a0eed0366141e3f5d500111c60950b">task_sort_sleep_by_sleepTime</a></div><div class="ttdeci">void task_sort_sleep_by_sleepTime()</div><div class="ttdoc">sort tasks in taskCtl.sleepTasks[]. </div><div class="ttdef"><b>Definition:</b> multiTask.c:273</div></div>
<div class="ttc" id="struct_s_e_g_m_e_n_t___d_e_s_c_r_i_p_t_o_r_html"><div class="ttname"><a href="struct_s_e_g_m_e_n_t___d_e_s_c_r_i_p_t_o_r.html">SEGMENT_DESCRIPTOR</a></div><div class="ttdoc">Segment Descriptor. </div><div class="ttdef"><b>Definition:</b> globalTbl.h:31</div></div>
<div class="ttc" id="global_tbl_8h_html"><div class="ttname"><a href="global_tbl_8h.html">globalTbl.h</a></div><div class="ttdoc">store segment descriptor &amp; gate descriptor related function </div></div>
<div class="ttc" id="struct_t_a_s_k___c_t_l_html_ae4e78a4a0519a4fa491ff0304c93f0bd"><div class="ttname"><a href="struct_t_a_s_k___c_t_l.html#ae4e78a4a0519a4fa491ff0304c93f0bd">TASK_CTL::sleepTasks</a></div><div class="ttdeci">TASK * sleepTasks[TASK_LIST_MAX]</div><div class="ttdoc">sleep task list </div><div class="ttdef"><b>Definition:</b> multiTask.h:70</div></div>
<div class="ttc" id="struct_t_a_s_k_html_ac0e35f4ce7296b738061037460ca8555"><div class="ttname"><a href="struct_t_a_s_k.html#ac0e35f4ce7296b738061037460ca8555">TASK::status</a></div><div class="ttdeci">TASK_STATUS status</div><div class="ttdoc">status of one task </div><div class="ttdef"><b>Definition:</b> multiTask.h:53</div></div>
<div class="ttc" id="mem_8h_html"><div class="ttname"><a href="mem_8h.html">mem.h</a></div><div class="ttdoc">basic memory management. </div></div>
<div class="ttc" id="string_8h_html"><div class="ttname"><a href="string_8h.html">string.h</a></div><div class="ttdoc">basic functions related to string. </div></div>
<div class="ttc" id="struct_t_a_s_k___c_t_l_html_a2db7a15b051b387129d1a3fe9b9f379a"><div class="ttname"><a href="struct_t_a_s_k___c_t_l.html#a2db7a15b051b387129d1a3fe9b9f379a">TASK_CTL::sleepTasksEnd</a></div><div class="ttdeci">int32 sleepTasksEnd</div><div class="ttdoc">number of sleep task </div><div class="ttdef"><b>Definition:</b> multiTask.h:64</div></div>
<div class="ttc" id="group__tasks_html_gaffc9e27207bf9aa78c9947df1a4272b5"><div class="ttname"><a href="group__tasks.html#gaffc9e27207bf9aa78c9947df1a4272b5">multiTask_NowRunning</a></div><div class="ttdeci">TASK * multiTask_NowRunning()</div><div class="ttdoc">check running task </div><div class="ttdef"><b>Definition:</b> multiTask.c:397</div></div>
<div class="ttc" id="struct_t_a_s_k_html"><div class="ttname"><a href="struct_t_a_s_k.html">TASK</a></div><div class="ttdoc">task structure. </div><div class="ttdef"><b>Definition:</b> multiTask.h:46</div></div>
<div class="ttc" id="struct_t_a_s_k___c_t_l_html_ae9de4564884d3a5f4766b85af6645121"><div class="ttname"><a href="struct_t_a_s_k___c_t_l.html#ae9de4564884d3a5f4766b85af6645121">TASK_CTL::nowRunningTaskPos</a></div><div class="ttdeci">int32 nowRunningTaskPos</div><div class="ttdoc">running task&#39;s position in running task list </div><div class="ttdef"><b>Definition:</b> multiTask.h:67</div></div>
<div class="ttc" id="struct_t_a_s_k___c_t_l_html_a51ed809edddd6e44c3c3480fe37e764d"><div class="ttname"><a href="struct_t_a_s_k___c_t_l.html#a51ed809edddd6e44c3c3480fe37e764d">TASK_CTL::runningTasksEnd</a></div><div class="ttdeci">int32 runningTasksEnd</div><div class="ttdoc">number of running task </div><div class="ttdef"><b>Definition:</b> multiTask.h:65</div></div>
<div class="ttc" id="struct_t_a_s_k___c_t_l_html_abcd453fcf00ecb2a59a537c7a755c90b"><div class="ttname"><a href="struct_t_a_s_k___c_t_l.html#abcd453fcf00ecb2a59a537c7a755c90b">TASK_CTL::stoppedTasksEnd</a></div><div class="ttdeci">int32 stoppedTasksEnd</div><div class="ttdoc">number of stopped tasks </div><div class="ttdef"><b>Definition:</b> multiTask.h:63</div></div>
<div class="ttc" id="struct_t_a_s_k_html_aad7dc57517764d71f1c6fc9972b2c113"><div class="ttname"><a href="struct_t_a_s_k.html#aad7dc57517764d71f1c6fc9972b2c113">TASK::ldt</a></div><div class="ttdeci">SEGMENT_DESCRIPTOR ldt[2]</div><div class="ttdoc">descriptor of the segment used by this task </div><div class="ttdef"><b>Definition:</b> multiTask.h:55</div></div>
<div class="ttc" id="struct_t_a_s_k___c_t_l_html"><div class="ttname"><a href="struct_t_a_s_k___c_t_l.html">TASK_CTL</a></div><div class="ttdoc">global tasks structure. OS use this structure to manage all the tasks </div><div class="ttdef"><b>Definition:</b> multiTask.h:59</div></div>
<div class="ttc" id="group__tasks_html_gacab65489a95cd361529b125c4bcbb3d3"><div class="ttname"><a href="group__tasks.html#gacab65489a95cd361529b125c4bcbb3d3">TASK</a></div><div class="ttdeci">struct TASK TASK</div><div class="ttdoc">task structure. </div></div>
<div class="ttc" id="data_struct_8h_html"><div class="ttname"><a href="data_struct_8h.html">dataStruct.h</a></div><div class="ttdoc">basic data structure. </div></div>
<div class="ttc" id="struct_t_a_s_k___c_t_l_html_afe827cc7495142a30211c673e984ffe0"><div class="ttname"><a href="struct_t_a_s_k___c_t_l.html#afe827cc7495142a30211c673e984ffe0">TASK_CTL::taskNum</a></div><div class="ttdeci">int32 taskNum</div><div class="ttdoc">number of all tasks </div><div class="ttdef"><b>Definition:</b> multiTask.h:61</div></div>
<div class="ttc" id="tim_8h_html"><div class="ttname"><a href="tim_8h.html">tim.h</a></div><div class="ttdoc">basic functions related to timer. </div></div>
<div class="ttc" id="typedef_8h_html"><div class="ttname"><a href="typedef_8h.html">typedef.h</a></div><div class="ttdoc">define types used by almost all modules. </div></div>
<div class="ttc" id="struct_t_a_s_k___c_t_l_html_a83f4422e8e6b6985fcd906280152021c"><div class="ttname"><a href="struct_t_a_s_k___c_t_l.html#a83f4422e8e6b6985fcd906280152021c">TASK_CTL::taskIdBase</a></div><div class="ttdeci">int32 taskIdBase</div><div class="ttdoc">base ID used to create task, add every time and can not be decrease. need fix. (无法回收) ...</div><div class="ttdef"><b>Definition:</b> multiTask.h:60</div></div>
<div class="ttc" id="struct_t_a_s_k___c_t_l_html_a0580dbf90e68faf8d8aa913ef5cf8c22"><div class="ttname"><a href="struct_t_a_s_k___c_t_l.html#a0580dbf90e68faf8d8aa913ef5cf8c22">TASK_CTL::tasks</a></div><div class="ttdeci">TASK tasks[TASK_LIST_MAX]</div><div class="ttdoc">all tasks store in this list </div><div class="ttdef"><b>Definition:</b> multiTask.h:72</div></div>
<div class="ttc" id="group__hal_html_ga4695a829b20154c459dd450bec77a986"><div class="ttname"><a href="group__hal.html#ga4695a829b20154c459dd450bec77a986">TSS32</a></div><div class="ttdeci">struct TSS32 TSS32</div><div class="ttdoc">TSS is task status segment, feature provided by BIOS. </div></div>
<div class="ttc" id="group__tasks_html_gaa6ce59dea42174cb50c4c08f6408cba0"><div class="ttname"><a href="group__tasks.html#gaa6ce59dea42174cb50c4c08f6408cba0">task_stop_free</a></div><div class="ttdeci">boolean task_stop_free(IN TASK *task)</div><div class="ttdoc">stop and delete one task. </div><div class="ttdef"><b>Definition:</b> multiTask.c:214</div></div>
<div class="ttc" id="group__tasks_html_gab41d1085f991554e722aaf9d23308922"><div class="ttname"><a href="group__tasks.html#gab41d1085f991554e722aaf9d23308922">task_run</a></div><div class="ttdeci">boolean task_run(IN TASK *task)</div><div class="ttdoc">start one task. </div><div class="ttdef"><b>Definition:</b> multiTask.c:91</div></div>
<div class="ttc" id="group__tasks_html_ga314a60ecc5d121e96369a232929f05b7"><div class="ttname"><a href="group__tasks.html#ga314a60ecc5d121e96369a232929f05b7">task_free</a></div><div class="ttdeci">boolean task_free(IN TASK *task)</div><div class="ttdoc">delete task. </div><div class="ttdef"><b>Definition:</b> multiTask.c:62</div></div>
<div class="ttc" id="group__hal_html_ga8706facbfcd1bb998bb3c1f8815a3436"><div class="ttname"><a href="group__hal.html#ga8706facbfcd1bb998bb3c1f8815a3436">tss_init</a></div><div class="ttdeci">void tss_init(TSS32 *tss, int32 taskId, int32 eip, int32 esp, int32 eflags)</div><div class="ttdoc">set the basic param to be called by x86 internal function. </div><div class="ttdef"><b>Definition:</b> multiTask.c:298</div></div>
<div class="ttc" id="struct_t_s_s32_html"><div class="ttname"><a href="struct_t_s_s32.html">TSS32</a></div><div class="ttdoc">TSS is task status segment, feature provided by BIOS. </div><div class="ttdef"><b>Definition:</b> multiTask.h:23</div></div>
<div class="ttc" id="group__tasks_html_ga1a6aed653e922f52d415b9d1341dec69"><div class="ttname"><a href="group__tasks.html#ga1a6aed653e922f52d415b9d1341dec69">task_alloc</a></div><div class="ttdeci">boolean task_alloc(IN int8 *taskName, IN int32 taskRoutine, IN int32 stackLocation, IN int32 eflags, IN uint8 priority, OUT TASK **task)</div><div class="ttdoc">create task. </div><div class="ttdef"><b>Definition:</b> multiTask.c:26</div></div>
<div class="ttc" id="struct_t_a_s_k_html_a3183049eecc90dc3b25e8f2dd1b67585"><div class="ttname"><a href="struct_t_a_s_k.html#a3183049eecc90dc3b25e8f2dd1b67585">TASK::langMode</a></div><div class="ttdeci">int8 langMode</div><div class="ttdoc">task supported language mode 0:en; 1:cn </div><div class="ttdef"><b>Definition:</b> multiTask.h:49</div></div>
<div class="ttc" id="group__tasks_html_gaa0df4c668a247af298d374749e366071"><div class="ttname"><a href="group__tasks.html#gaa0df4c668a247af298d374749e366071">multiTask_switch</a></div><div class="ttdeci">void multiTask_switch()</div><div class="ttdoc">switch to next task. </div><div class="ttdef"><b>Definition:</b> multiTask.c:372</div></div>
<div class="ttc" id="struct_t_a_s_k_html_a09f8b5430c2234e2ad5c57210942fd8a"><div class="ttname"><a href="struct_t_a_s_k.html#a09f8b5430c2234e2ad5c57210942fd8a">TASK::priority</a></div><div class="ttdeci">uint8 priority</div><div class="ttdoc">priority between 0 and 255, zero has highest priority.(0优先级最高) </div><div class="ttdef"><b>Definition:</b> multiTask.h:52</div></div>
<div class="ttc" id="struct_t_a_s_k___c_t_l_html_a80753f61d7fe47df1e5bf12ca9412b68"><div class="ttname"><a href="struct_t_a_s_k___c_t_l.html#a80753f61d7fe47df1e5bf12ca9412b68">TASK_CTL::stoppedTasks</a></div><div class="ttdeci">TASK * stoppedTasks[TASK_LIST_MAX]</div><div class="ttdoc">stopped task list </div><div class="ttdef"><b>Definition:</b> multiTask.h:69</div></div>
<div class="ttc" id="struct_t_a_s_k___c_t_l_html_a87459b911057e2c10882b80e1be06037"><div class="ttname"><a href="struct_t_a_s_k___c_t_l.html#a87459b911057e2c10882b80e1be06037">TASK_CTL::runningTasks</a></div><div class="ttdeci">TASK * runningTasks[TASK_LIST_MAX]</div><div class="ttdoc">running task list </div><div class="ttdef"><b>Definition:</b> multiTask.h:71</div></div>
<div class="ttc" id="group__tasks_html_ga9b70a7656aaa0836abd59b9298e428ac"><div class="ttname"><a href="group__tasks.html#ga9b70a7656aaa0836abd59b9298e428ac">multiTask_init</a></div><div class="ttdeci">void multiTask_init()</div><div class="ttdoc">initialize multi task environment. </div><div class="ttdef"><b>Definition:</b> multiTask.c:330</div></div>
<div class="ttc" id="struct_t_a_s_k_html_a8549d848bd43b620507b53a053ed3dd1"><div class="ttname"><a href="struct_t_a_s_k.html#a8549d848bd43b620507b53a053ed3dd1">TASK::taskId</a></div><div class="ttdeci">int32 taskId</div><div class="ttdoc">ID in GDT table. GDT表中的编号. </div><div class="ttdef"><b>Definition:</b> multiTask.h:47</div></div>
<div class="ttc" id="group__tasks_html_gae02e7fe09200eeca16d0ad3010d5d6f0"><div class="ttname"><a href="group__tasks.html#gae02e7fe09200eeca16d0ad3010d5d6f0">task_stop</a></div><div class="ttdeci">boolean task_stop(IN TASK *task)</div><div class="ttdoc">stop one task. </div><div class="ttdef"><b>Definition:</b> multiTask.c:176</div></div>
<div class="ttc" id="fat_8h_html"><div class="ttname"><a href="fat_8h.html">fat.h</a></div><div class="ttdoc">functions related to fat16. </div></div>
<div class="ttc" id="group__tasks_html_gaaa5d5dcdbff789258857cfcd0d2d196d"><div class="ttname"><a href="group__tasks.html#gaaa5d5dcdbff789258857cfcd0d2d196d">task_sleep</a></div><div class="ttdeci">boolean task_sleep(IN TASK *task, IN int32 sleepTimeCnt_10ms)</div><div class="ttdoc">sleep one task. </div><div class="ttdef"><b>Definition:</b> multiTask.c:141</div></div>
<div class="ttc" id="group__tasks_html_ga18e0efedf0dfe84953f27b5375330d41"><div class="ttname"><a href="group__tasks.html#ga18e0efedf0dfe84953f27b5375330d41">TASK_CTL</a></div><div class="ttdeci">struct TASK_CTL TASK_CTL</div><div class="ttdoc">global tasks structure. OS use this structure to manage all the tasks </div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Mar 8 2015 16:10:21 for MyOS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
